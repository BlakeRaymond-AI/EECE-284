0000              1   ;--------------------------------------------------------
0000              2   ; File Created by C51
0000              3   ; Version 1.0.0 #1034 (Dec 12 2012) (MSVC)
0000              4   ; This file was generated Sun Jan 13 21:38:26 2013
0000              5   ;--------------------------------------------------------
                  5   $name linefollower
                  6   $optc51 --model-small
0000              8            R_DSEG    segment data
0000              9            R_CSEG    segment code
0000             10            R_BSEG    segment bit
0000             11            R_XSEG    segment xdata
0000             12            R_ISEG    segment idata
0000             13            R_OSEG    segment data overlay
0000             14            BIT_BANK  segment data overlay
0000             15            R_HOME    segment code
0000             16            R_GSINIT  segment code
0000             17            R_IXSEG   segment xdata
0000             18            R_CONST   segment code
0000             19            R_XINIT   segment code
0000             20            R_DINIT   segment code
0000             21   
0000             22   ;--------------------------------------------------------
0000             23   ; Public variables in this module
0000             24   ;--------------------------------------------------------
0000             25            public _pwm_PARM_2
0000             26            public _main
0000             27            public _pid
0000             28            public _pwm
0000             29            public _delay
0000             30            public _pid_PARM_2
0000             31   ;--------------------------------------------------------
0000             32   ; Special Function Registers
0000             33   ;--------------------------------------------------------
0000             34   _P1             DATA 0x90
0000             35   _P1M0           DATA 0xc2
0000             36   _P1M1           DATA 0xc3
0000             37   _P2             DATA 0xa0
0000             38   _P2M0           DATA 0xc4
0000             39   _P2M1           DATA 0xc5
0000             40   _P3             DATA 0xb0
0000             41   _P3M0           DATA 0xc5
0000             42   _P3M1           DATA 0xc6
0000             43   _P4             DATA 0xc0
0000             44   _P4M0           DATA 0xbe
0000             45   _P4M1           DATA 0xbf
0000             46   _PSW            DATA 0xd0
0000             47   _ACC            DATA 0xe0
0000             48   _B              DATA 0xf0
0000             49   _SP             DATA 0x81
0000             50   _DPL            DATA 0x82
0000             51   _DPH            DATA 0x83
0000             52   _DP0L           DATA 0x82
0000             53   _DP0H           DATA 0x83
0000             54   _DP1L           DATA 0x84
0000             55   _DP1H           DATA 0x85
0000             56   _AUXR           DATA 0x8e
0000             57   _AUXR1          DATA 0xa2
0000             58   _DPCF           DATA 0xa2
0000             59   _PAGE           DATA 0x86
0000             60   _TCON           DATA 0x88
0000             61   _TMOD           DATA 0x89
0000             62   _T2CON          DATA 0xc8
0000             63   _T2MOD          DATA 0xc9
0000             64   _TL0            DATA 0x8a
0000             65   _TL1            DATA 0x8b
0000             66   _TL2            DATA 0xcc
0000             67   _TH0            DATA 0x8c
0000             68   _TH1            DATA 0x8d
0000             69   _TH2            DATA 0xcd
0000             70   _TCONB          DATA 0x91
0000             71   _RL0            DATA 0x92
0000             72   _RL1            DATA 0x93
0000             73   _RH0            DATA 0x94
0000             74   _RH1            DATA 0x95
0000             75   _RCAP2L         DATA 0xca
0000             76   _RCAP2H         DATA 0xcb
0000             77   _WDTRST         DATA 0xa6
0000             78   _WDTCON         DATA 0xa7
0000             79   _SCON           DATA 0x98
0000             80   _SBUF           DATA 0x99
0000             81   _SADEN          DATA 0xb9
0000             82   _SADDR          DATA 0xa9
0000             83   _IE             DATA 0xa8
0000             84   _IP             DATA 0xb8
0000             85   _IPH            DATA 0xb7
0000             86   _IE2            DATA 0xb4
0000             87   _IP2            DATA 0xb5
0000             88   _IPH2           DATA 0xb6
0000             89   _T2CCA          DATA 0xd1
0000             90   _T2CCL          DATA 0xd2
0000             91   _T2CCH          DATA 0xd3
0000             92   _T2CCC          DATA 0xd4
0000             93   _T2CCF          DATA 0xd5
0000             94   _PCON           DATA 0x87
0000             95   _CLKREG         DATA 0x8f
0000             96   _GPMOD          DATA 0x9a
0000             97   _GPLS           DATA 0x9b
0000             98   _GPIEN          DATA 0x9c
0000             99   _GPIF           DATA 0x9d
0000            100   _SPSR           DATA 0xe8
0000            101   _SPCR           DATA 0xe9
0000            102   _SPDR           DATA 0xea
0000            103   _MEMCON         DATA 0x96
0000            104   _ACSRA          DATA 0x97
0000            105   _ACSRB          DATA 0x9f
0000            106   _AREF           DATA 0xaf
0000            107   ;--------------------------------------------------------
0000            108   ; special function bits
0000            109   ;--------------------------------------------------------
0000            110   _P1_7           BIT 0x97
0000            111   _P1_6           BIT 0x96
0000            112   _P1_5           BIT 0x95
0000            113   _P1_4           BIT 0x94
0000            114   _P1_3           BIT 0x93
0000            115   _P1_2           BIT 0x92
0000            116   _P1_1           BIT 0x91
0000            117   _P1_0           BIT 0x90
0000            118   _SCK            BIT 0x97
0000            119   _MISO           BIT 0x96
0000            120   _MOSI           BIT 0x95
0000            121   _SSB            BIT 0x94
0000            122   _T2EX           BIT 0x91
0000            123   _T2             BIT 0x90
0000            124   _P2_7           BIT 0xa7
0000            125   _P2_6           BIT 0xa6
0000            126   _P2_5           BIT 0xa5
0000            127   _P2_4           BIT 0xa4
0000            128   _P2_3           BIT 0xa3
0000            129   _P2_2           BIT 0xa2
0000            130   _P2_1           BIT 0xa1
0000            131   _P2_0           BIT 0xa0
0000            132   _CCD            BIT 0xa3
0000            133   _CCC            BIT 0xa2
0000            134   _CCB            BIT 0xa1
0000            135   _CCA            BIT 0xa0
0000            136   _P3_7           BIT 0xb7
0000            137   _P3_6           BIT 0xb6
0000            138   _P3_5           BIT 0xb5
0000            139   _P3_4           BIT 0xb4
0000            140   _P3_3           BIT 0xb3
0000            141   _P3_2           BIT 0xb2
0000            142   _P3_1           BIT 0xb1
0000            143   _P3_0           BIT 0xb0
0000            144   _T1             BIT 0xb5
0000            145   _T0             BIT 0xb4
0000            146   _INT1           BIT 0xb3
0000            147   _INT0           BIT 0xb2
0000            148   _TXD            BIT 0xb1
0000            149   _RXD            BIT 0xb0
0000            150   _P4_7           BIT 0xc7
0000            151   _P4_6           BIT 0xc6
0000            152   _P4_5           BIT 0xc5
0000            153   _P4_4           BIT 0xc4
0000            154   _P4_3           BIT 0xc3
0000            155   _P4_2           BIT 0xc2
0000            156   _P4_1           BIT 0xc1
0000            157   _P4_0           BIT 0xc0
0000            158   _XTAL2          BIT 0xc1
0000            159   _XTAL1          BIT 0xc0
0000            160   _CY             BIT 0xd7
0000            161   _AC             BIT 0xd6
0000            162   _F0             BIT 0xd5
0000            163   _RS1            BIT 0xd4
0000            164   _RS0            BIT 0xd3
0000            165   _OV             BIT 0xd2
0000            166   _UD             BIT 0xd1
0000            167   _P              BIT 0xd0
0000            168   _ACC_7          BIT 0xe7
0000            169   _ACC_6          BIT 0xe6
0000            170   _ACC_5          BIT 0xe5
0000            171   _ACC_4          BIT 0xe4
0000            172   _ACC_3          BIT 0xe3
0000            173   _ACC_2          BIT 0xe2
0000            174   _ACC_1          BIT 0xe1
0000            175   _ACC_0          BIT 0xe0
0000            176   _B_7            BIT 0xf7
0000            177   _B_6            BIT 0xf6
0000            178   _B_5            BIT 0xf5
0000            179   _B_4            BIT 0xf4
0000            180   _B_3            BIT 0xf3
0000            181   _B_2            BIT 0xf2
0000            182   _B_1            BIT 0xf1
0000            183   _B_0            BIT 0xf0
0000            184   _TF1            BIT 0x8f
0000            185   _TR1            BIT 0x8e
0000            186   _TF0            BIT 0x8d
0000            187   _TR0            BIT 0x8c
0000            188   _IE1            BIT 0x8b
0000            189   _IT1            BIT 0x8a
0000            190   _IE0            BIT 0x89
0000            191   _IT0            BIT 0x88
0000            192   _TF2            BIT 0xcf
0000            193   _EXF2           BIT 0xce
0000            194   _RCLK           BIT 0xcd
0000            195   _TCLK           BIT 0xcc
0000            196   _EXEN2          BIT 0xcb
0000            197   _TR2            BIT 0xca
0000            198   _C_T2           BIT 0xc9
0000            199   _CP_RL2         BIT 0xc8
0000            200   _SM0            BIT 0x9f
0000            201   _FE             BIT 0x9f
0000            202   _SM1            BIT 0x9e
0000            203   _SM2            BIT 0x9d
0000            204   _REN            BIT 0x9c
0000            205   _TB8            BIT 0x9b
0000            206   _RB8            BIT 0x9a
0000            207   _TI             BIT 0x99
0000            208   _RI             BIT 0x98
0000            209   _EA             BIT 0xaf
0000            210   _EC             BIT 0xae
0000            211   _ET2            BIT 0xad
0000            212   _ES             BIT 0xac
0000            213   _ET1            BIT 0xab
0000            214   _EX1            BIT 0xaa
0000            215   _ET0            BIT 0xa9
0000            216   _EX0            BIT 0xa8
0000            217   _PC             BIT 0xbe
0000            218   _PT2            BIT 0xbd
0000            219   _PS             BIT 0xbc
0000            220   _PT1            BIT 0xbb
0000            221   _PX1            BIT 0xba
0000            222   _PT0            BIT 0xb9
0000            223   _PX0            BIT 0xb8
0000            224   _SPIF           BIT 0xef
0000            225   _WCOL           BIT 0xee
0000            226   _MODF           BIT 0xed
0000            227   _TXE            BIT 0xec
0000            228   _SSIG           BIT 0xea
0000            229   _DISSO          BIT 0xe9
0000            230   _ENH            BIT 0xe8
0000            231   ;--------------------------------------------------------
0000            232   ; overlayable register banks
0000            233   ;--------------------------------------------------------
0000            234            rbank0 segment data overlay
0000            235   ;--------------------------------------------------------
0000            236   ; internal ram data
0000            237   ;--------------------------------------------------------
0000            238            rseg R_DSEG
0000            239   _pid_speed_1_7:
0000            240            ds 1
0001            241   _pid_kP_1_7:
0001            242            ds 1
0002            243   _pid_kD_1_7:
0002            244            ds 1
0003            245   _pid_prevX_1_7:
0003            246            ds 1
0004            247   _pid_x_1_7:
0004            248            ds 1
0005            249   _pid_deltaX_1_7:
0005            250            ds 1
0006            251   _pid_leftMotorPower_1_7:
0006            252            ds 1
0007            253   _pid_rightMotorPower_1_7:
0007            254            ds 1
0008            255   _pid_PARM_2:
0008            256            ds 1
0009            257   ;--------------------------------------------------------
0009            258   ; overlayable items in internal ram 
0009            259   ;--------------------------------------------------------
0000            260            rseg    R_OSEG
0000            261            rseg    R_OSEG
0000            262   _pwm_PARM_2:
0000            263            ds 1
0001            264   ;--------------------------------------------------------
0001            265   ; indirectly addressable internal ram data
0001            266   ;--------------------------------------------------------
0000            267            rseg R_ISEG
0000            268   ;--------------------------------------------------------
0000            269   ; absolute internal ram data
0000            270   ;--------------------------------------------------------
0000            271            DSEG
0000            272   ;--------------------------------------------------------
0000            273   ; bit data
0000            274   ;--------------------------------------------------------
0000            275            rseg R_BSEG
0000            276   ;--------------------------------------------------------
0000            277   ; paged external ram data
0000            278   ;--------------------------------------------------------
0000            279            rseg R_XSEG
0000            280   ;--------------------------------------------------------
0000            281   ; external ram data
0000            282   ;--------------------------------------------------------
0000            283            rseg R_XSEG
0000            284   ;--------------------------------------------------------
0000            285   ; absolute external ram data
0000            286   ;--------------------------------------------------------
0000            287            XSEG
0000            288   ;--------------------------------------------------------
0000            289   ; external initialized ram data
0000            290   ;--------------------------------------------------------
0000            291            rseg R_IXSEG
0000            292            rseg R_HOME
0000            293            rseg R_GSINIT
0000            294            rseg R_CSEG
0000            295   ;--------------------------------------------------------
0000            296   ; Reset entry point and interrupt vectors
0000            297   ;--------------------------------------------------------
0000            298            CSEG at 0x0000
0000 020100     299            ljmp    _crt0
0003            300   ;--------------------------------------------------------
0003            301   ; global & static initialisations
0003            302   ;--------------------------------------------------------
0000            303            rseg R_HOME
0000            304            rseg R_GSINIT
0000            305            rseg R_GSINIT
0000            306   ;--------------------------------------------------------
0000            307   ; data variables initialization
0000            308   ;--------------------------------------------------------
0000            309            rseg R_DINIT
0000            310   ;------------------------------------------------------------
0000            311   ;Allocation info for local variables in function 'pid'
0000            312   ;------------------------------------------------------------
0000            313   ;speed                     Allocated with name '_pid_speed_1_7'
0000            314   ;kP                        Allocated with name '_pid_kP_1_7'
0000            315   ;kD                        Allocated with name '_pid_kD_1_7'
0000            316   ;prevX                     Allocated with name '_pid_prevX_1_7'
0000            317   ;x                         Allocated with name '_pid_x_1_7'
0000            318   ;deltaX                    Allocated with name '_pid_deltaX_1_7'
0000            319   ;leftMotorPower            Allocated with name '_pid_leftMotorPower_1_7'
0000            320   ;rightMotorPower           Allocated with name '_pid_rightMotorPower_1_7'
0000            321   ;rightSignal               Allocated with name '_pid_PARM_2'
0000            322   ;leftSignal                Allocated to registers r2 
0000            323   ;------------------------------------------------------------
0000            324   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:26: static uint8 speed = 127;
0000 75287F     325            mov     _pid_speed_1_7,#0x7F
0003            326   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:27: static uint8 kP =1;
0003 756801     327            mov     _pid_kP_1_7,#0x01
0006            328   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:28: static uint8 kD =1;
0006 75A801     329            mov     _pid_kD_1_7,#0x01
0009            330   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:29: static int8 prevX =0;
0009 75E800     331            mov     _pid_prevX_1_7,#0x00
000C            332   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:30: static int8 x =0;
000C 752800     333            mov     _pid_x_1_7,#0x00
000F            334   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:31: static int8 deltaX =0;
000F 756800     335            mov     _pid_deltaX_1_7,#0x00
0012            336            ; The linker places a 'ret' at the end of segment R_DINIT.
0012            337   ;--------------------------------------------------------
0012            338   ; code
0012            339   ;--------------------------------------------------------
0000            340            rseg R_CSEG
0000            341   ;------------------------------------------------------------
0000            342   ;Allocation info for local variables in function 'delay'
0000            343   ;------------------------------------------------------------
0000            344   ;j                         Allocated to registers r2 r3 
0000            345   ;k                         Allocated to registers r4 r5 
0000            346   ;------------------------------------------------------------
0000            347   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:9: void delay(void)
0000            348   ;        -----------------------------------------
0000            349   ;         function delay
0000            350   ;        -----------------------------------------
0000            351   _delay:
0000            352            using   0
0000            353   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:14: for(j=0; j<100; ++j)
0000 7A00       354            mov     r2,#0x00
0002 7B00       355            mov     r3,#0x00
0004            356   L002004?:
0004 C3         357            clr     c
0005 EA         358            mov     a,r2
0006 9464       359            subb    a,#0x64
0008 EB         360            mov     a,r3
0009 6480       361            xrl     a,#0x80
000B 9480       362            subb    a,#0x80
000D 5001       363            jnc     L002008?
000F            364   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:16: for(k=0; k<1000; ++k);
000F 7CE8       365            mov     r4,#0xE8
0011 7D03       366            mov     r5,#0x03
0013            367   L002003?:
0013 1C         368            dec     r4
0014 BCFF48     369            cjne    r4,#0xff,L002017?
0017 1D         370            dec     r5
0018            371   L002017?:
0018 EC         372            mov     a,r4
0019 4D         373            orl     a,r5
001A 7001       374            jnz     L002003?
001C            375   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:14: for(j=0; j<100; ++j)
001C 0A         376            inc     r2
001D BA0088     377            cjne    r2,#0x00,L002004?
0020 0B         378            inc     r3
0021 8001       379            sjmp    L002004?
0023            380   L002008?:
0023 22         381            ret
0024            382   ;------------------------------------------------------------
0024            383   ;Allocation info for local variables in function 'pwm'
0024            384   ;------------------------------------------------------------
0024            385   ;rightMotorPower           Allocated with name '_pwm_PARM_2'
0024            386   ;leftMotorPower            Allocated to registers 
0024            387   ;------------------------------------------------------------
0024            388   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:20: void pwm(uint8 leftMotorPower, uint8 rightMotorPower)
0024            389   ;        -----------------------------------------
0024            390   ;         function pwm
0024            391   ;        -----------------------------------------
0024            392   _pwm:
0024            393   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:22: }
0024 22         394            ret
0025            395   ;------------------------------------------------------------
0025            396   ;Allocation info for local variables in function 'pid'
0025            397   ;------------------------------------------------------------
0025            398   ;speed                     Allocated with name '_pid_speed_1_7'
0025            399   ;kP                        Allocated with name '_pid_kP_1_7'
0025            400   ;kD                        Allocated with name '_pid_kD_1_7'
0025            401   ;prevX                     Allocated with name '_pid_prevX_1_7'
0025            402   ;x                         Allocated with name '_pid_x_1_7'
0025            403   ;deltaX                    Allocated with name '_pid_deltaX_1_7'
0025            404   ;leftMotorPower            Allocated with name '_pid_leftMotorPower_1_7'
0025            405   ;rightMotorPower           Allocated with name '_pid_rightMotorPower_1_7'
0025            406   ;rightSignal               Allocated with name '_pid_PARM_2'
0025            407   ;leftSignal                Allocated to registers r2 
0025            408   ;------------------------------------------------------------
0025            409   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:24: void pid(uint8 leftSignal, uint8 rightSignal)
0025            410   ;        -----------------------------------------
0025            411   ;         function pid
0025            412   ;        -----------------------------------------
0025            413   _pid:
0025            414   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:35: x = (leftSignal>>1) - (rightSignal>>1); //Right-handed coordinate system; on the wire is x=0
0025 E582       415            mov     a,dpl
0027 C3         416            clr     c
0028 13         417            rrc     a
0029 FA         418            mov     r2,a
002A E530       419            mov     a,_pid_PARM_2
002C C3         420            clr     c
002D 13         421            rrc     a
002E FB         422            mov     r3,a
002F EA         423            mov     a,r2
0030 C3         424            clr     c
0031 9B         425            subb    a,r3
0032            426   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:37: if(ISPOSITIVE(x)) //Robot is to the right; reduce left power
0032 F528       427            mov     _pid_x_1_7,a
0034 23         428            rl      a
0035 5401       429            anl     a,#0x01
0037 30E008     430            jnb     acc.0,L004017?
003A 44FE       431            orl     a,#0xfe
003C            432   L004017?:
003C FA         433            mov     r2,a
003D 33         434            rlc     a
003E 95E0       435            subb    a,acc
0040 FB         436            mov     r3,a
0041 EA         437            mov     a,r2
0042 F4         438            cpl     a
0043 FA         439            mov     r2,a
0044 EB         440            mov     a,r3
0045 F4         441            cpl     a
0046 FB         442            mov     r3,a
0047 EA         443            mov     a,r2
0048 30E048     444            jnb     acc.0,L004002?
004B            445   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:40: leftMotorPower = speed - kP*x;
004B 8568F0     446            mov     b,_pid_kP_1_7
004E E528       447            mov     a,_pid_x_1_7
0050 A4         448            mul     ab
0051 FA         449            mov     r2,a
0052 E528       450            mov     a,_pid_speed_1_7
0054 C3         451            clr     c
0055 9A         452            subb    a,r2
0056 F5B8       453            mov     _pid_leftMotorPower_1_7,a
0058            454   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:41: rightMotorPower = speed; 
0058 852808     455            mov     _pid_rightMotorPower_1_7,_pid_speed_1_7
005B 8001       456            sjmp    L004003?
005D            457   L004002?:
005D            458   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:46: leftMotorPower = speed;
005D 8528B8     459            mov     _pid_leftMotorPower_1_7,_pid_speed_1_7
0060            460   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:47: rightMotorPower = speed + kP*x;
0060 8568F0     461            mov     b,_pid_kP_1_7
0063 E528       462            mov     a,_pid_x_1_7
0065 A4         463            mul     ab
0066 FA         464            mov     r2,a
0067 2528       465            add     a,_pid_speed_1_7
0069 F508       466            mov     _pid_rightMotorPower_1_7,a
006B            467   L004003?:
006B            468   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:50: deltaX = (x>>1) - (prevX>>1);
006B E528       469            mov     a,_pid_x_1_7
006D A2E7       470            mov     c,acc.7
006F 13         471            rrc     a
0070 FA         472            mov     r2,a
0071 E5E8       473            mov     a,_pid_prevX_1_7
0073 A2E7       474            mov     c,acc.7
0075 13         475            rrc     a
0076 FB         476            mov     r3,a
0077 EA         477            mov     a,r2
0078 C3         478            clr     c
0079 9B         479            subb    a,r3
007A            480   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:52: if(ISPOSITIVE(deltaX)) //Robot is moving to the right; reduce left power
007A F568       481            mov     _pid_deltaX_1_7,a
007C 23         482            rl      a
007D 5401       483            anl     a,#0x01
007F 30E008     484            jnb     acc.0,L004019?
0082 44FE       485            orl     a,#0xfe
0084            486   L004019?:
0084 FA         487            mov     r2,a
0085 33         488            rlc     a
0086 95E0       489            subb    a,acc
0088 FB         490            mov     r3,a
0089 EA         491            mov     a,r2
008A F4         492            cpl     a
008B FA         493            mov     r2,a
008C EB         494            mov     a,r3
008D F4         495            cpl     a
008E FB         496            mov     r3,a
008F EA         497            mov     a,r2
0090 30E048     498            jnb     acc.0,L004005?
0093            499   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:54: leftMotorPower -= kD*deltaX;
0093 85A8F0     500            mov     b,_pid_kD_1_7
0096 E568       501            mov     a,_pid_deltaX_1_7
0098 A4         502            mul     ab
0099 FA         503            mov     r2,a
009A E5B8       504            mov     a,_pid_leftMotorPower_1_7
009C C3         505            clr     c
009D 9A         506            subb    a,r2
009E F5B8       507            mov     _pid_leftMotorPower_1_7,a
00A0 8001       508            sjmp    L004006?
00A2            509   L004005?:
00A2            510   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:58: rightMotorPower += kD*deltaX;
00A2 85A8F0     511            mov     b,_pid_kD_1_7
00A5 E568       512            mov     a,_pid_deltaX_1_7
00A7 A4         513            mul     ab
00A8 FA         514            mov     r2,a
00A9 2508       515            add     a,_pid_rightMotorPower_1_7
00AB F508       516            mov     _pid_rightMotorPower_1_7,a
00AD            517   L004006?:
00AD            518   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:62: if(ISNEGATIVE(leftMotorPower)) leftMotorPower =0;
00AD E5B8       519            mov     a,_pid_leftMotorPower_1_7
00AF 23         520            rl      a
00B0 5401       521            anl     a,#0x01
00B2 FA         522            mov     r2,a
00B3 6001       523            jz      L004008?
00B5 75B800     524            mov     _pid_leftMotorPower_1_7,#0x00
00B8            525   L004008?:
00B8            526   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:63: if(ISNEGATIVE(rightMotorPower)) rightMotorPower =0;
00B8 E508       527            mov     a,_pid_rightMotorPower_1_7
00BA 23         528            rl      a
00BB 5401       529            anl     a,#0x01
00BD FA         530            mov     r2,a
00BE 6001       531            jz      L004010?
00C0 750800     532            mov     _pid_rightMotorPower_1_7,#0x00
00C3            533   L004010?:
00C3            534   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:65: pwm(leftMotorPower, rightMotorPower);
00C3 8508F0     535            mov     _pwm_PARM_2,_pid_rightMotorPower_1_7
00C6 85B882     536            mov     dpl,_pid_leftMotorPower_1_7
00C9 120100     537            lcall   _pwm
00CC            538   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:67: prevX = x;  
00CC 8528E8     539            mov     _pid_prevX_1_7,_pid_x_1_7
00CF 22         540            ret
00D0            541   ;------------------------------------------------------------
00D0            542   ;Allocation info for local variables in function 'main'
00D0            543   ;------------------------------------------------------------
00D0            544   ;------------------------------------------------------------
00D0            545   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:72: void main(void)
00D0            546   ;        -----------------------------------------
00D0            547   ;         function main
00D0            548   ;        -----------------------------------------
00D0            549   _main:
00D0            550   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:74: while(1)
00D0            551   L005002?:
00D0            552   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:76: P2_1 = 0;
00D0 C2A1       553            clr     _P2_1
00D2            554   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:77: delay();
00D2 120100     555            lcall   _delay
00D5            556   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:78: P2_1 = 1;
00D5 D2A1       557            setb    _P2_1
00D7            558   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\linefollower.c:79: delay();
00D7 120100     559            lcall   _delay
00DA 8001       560            sjmp    L005002?
00DC            561            rseg R_CSEG
00DC            562   
0000            563            rseg R_CONST
0000            564   
0000            565            rseg R_XINIT
0000            566   
0003            567            CSEG
0003            568   
0003            569   end
