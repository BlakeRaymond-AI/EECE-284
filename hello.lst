0000              1   ;--------------------------------------------------------
0000              2   ; File Created by C51
0000              3   ; Version 1.0.0 #1034 (Dec 12 2012) (MSVC)
0000              4   ; This file was generated Thu Jan 10 15:26:59 2013
0000              5   ;--------------------------------------------------------
                  5   $name hello
                  6   $optc51 --model-small
0000              8            R_DSEG    segment data
0000              9            R_CSEG    segment code
0000             10            R_BSEG    segment bit
0000             11            R_XSEG    segment xdata
0000             12            R_ISEG    segment idata
0000             13            R_OSEG    segment data overlay
0000             14            BIT_BANK  segment data overlay
0000             15            R_HOME    segment code
0000             16            R_GSINIT  segment code
0000             17            R_IXSEG   segment xdata
0000             18            R_CONST   segment code
0000             19            R_XINIT   segment code
0000             20            R_DINIT   segment code
0000             21   
0000             22   ;--------------------------------------------------------
0000             23   ; Public variables in this module
0000             24   ;--------------------------------------------------------
0000             25            public _main
0000             26            public _delay
0000             27   ;--------------------------------------------------------
0000             28   ; Special Function Registers
0000             29   ;--------------------------------------------------------
0000             30   _P1             DATA 0x90
0000             31   _P1M0           DATA 0xc2
0000             32   _P1M1           DATA 0xc3
0000             33   _P2             DATA 0xa0
0000             34   _P2M0           DATA 0xc4
0000             35   _P2M1           DATA 0xc5
0000             36   _P3             DATA 0xb0
0000             37   _P3M0           DATA 0xc5
0000             38   _P3M1           DATA 0xc6
0000             39   _P4             DATA 0xc0
0000             40   _P4M0           DATA 0xbe
0000             41   _P4M1           DATA 0xbf
0000             42   _PSW            DATA 0xd0
0000             43   _ACC            DATA 0xe0
0000             44   _B              DATA 0xf0
0000             45   _SP             DATA 0x81
0000             46   _DPL            DATA 0x82
0000             47   _DPH            DATA 0x83
0000             48   _DP0L           DATA 0x82
0000             49   _DP0H           DATA 0x83
0000             50   _DP1L           DATA 0x84
0000             51   _DP1H           DATA 0x85
0000             52   _AUXR           DATA 0x8e
0000             53   _AUXR1          DATA 0xa2
0000             54   _DPCF           DATA 0xa2
0000             55   _PAGE           DATA 0x86
0000             56   _TCON           DATA 0x88
0000             57   _TMOD           DATA 0x89
0000             58   _T2CON          DATA 0xc8
0000             59   _T2MOD          DATA 0xc9
0000             60   _TL0            DATA 0x8a
0000             61   _TL1            DATA 0x8b
0000             62   _TL2            DATA 0xcc
0000             63   _TH0            DATA 0x8c
0000             64   _TH1            DATA 0x8d
0000             65   _TH2            DATA 0xcd
0000             66   _TCONB          DATA 0x91
0000             67   _RL0            DATA 0x92
0000             68   _RL1            DATA 0x93
0000             69   _RH0            DATA 0x94
0000             70   _RH1            DATA 0x95
0000             71   _RCAP2L         DATA 0xca
0000             72   _RCAP2H         DATA 0xcb
0000             73   _WDTRST         DATA 0xa6
0000             74   _WDTCON         DATA 0xa7
0000             75   _SCON           DATA 0x98
0000             76   _SBUF           DATA 0x99
0000             77   _SADEN          DATA 0xb9
0000             78   _SADDR          DATA 0xa9
0000             79   _IE             DATA 0xa8
0000             80   _IP             DATA 0xb8
0000             81   _IPH            DATA 0xb7
0000             82   _IE2            DATA 0xb4
0000             83   _IP2            DATA 0xb5
0000             84   _IPH2           DATA 0xb6
0000             85   _T2CCA          DATA 0xd1
0000             86   _T2CCL          DATA 0xd2
0000             87   _T2CCH          DATA 0xd3
0000             88   _T2CCC          DATA 0xd4
0000             89   _T2CCF          DATA 0xd5
0000             90   _PCON           DATA 0x87
0000             91   _CLKREG         DATA 0x8f
0000             92   _GPMOD          DATA 0x9a
0000             93   _GPLS           DATA 0x9b
0000             94   _GPIEN          DATA 0x9c
0000             95   _GPIF           DATA 0x9d
0000             96   _SPSR           DATA 0xe8
0000             97   _SPCR           DATA 0xe9
0000             98   _SPDR           DATA 0xea
0000             99   _MEMCON         DATA 0x96
0000            100   _ACSRA          DATA 0x97
0000            101   _ACSRB          DATA 0x9f
0000            102   _AREF           DATA 0xaf
0000            103   ;--------------------------------------------------------
0000            104   ; special function bits
0000            105   ;--------------------------------------------------------
0000            106   _P1_7           BIT 0x97
0000            107   _P1_6           BIT 0x96
0000            108   _P1_5           BIT 0x95
0000            109   _P1_4           BIT 0x94
0000            110   _P1_3           BIT 0x93
0000            111   _P1_2           BIT 0x92
0000            112   _P1_1           BIT 0x91
0000            113   _P1_0           BIT 0x90
0000            114   _SCK            BIT 0x97
0000            115   _MISO           BIT 0x96
0000            116   _MOSI           BIT 0x95
0000            117   _SSB            BIT 0x94
0000            118   _T2EX           BIT 0x91
0000            119   _T2             BIT 0x90
0000            120   _P2_7           BIT 0xa7
0000            121   _P2_6           BIT 0xa6
0000            122   _P2_5           BIT 0xa5
0000            123   _P2_4           BIT 0xa4
0000            124   _P2_3           BIT 0xa3
0000            125   _P2_2           BIT 0xa2
0000            126   _P2_1           BIT 0xa1
0000            127   _P2_0           BIT 0xa0
0000            128   _CCD            BIT 0xa3
0000            129   _CCC            BIT 0xa2
0000            130   _CCB            BIT 0xa1
0000            131   _CCA            BIT 0xa0
0000            132   _P3_7           BIT 0xb7
0000            133   _P3_6           BIT 0xb6
0000            134   _P3_5           BIT 0xb5
0000            135   _P3_4           BIT 0xb4
0000            136   _P3_3           BIT 0xb3
0000            137   _P3_2           BIT 0xb2
0000            138   _P3_1           BIT 0xb1
0000            139   _P3_0           BIT 0xb0
0000            140   _T1             BIT 0xb5
0000            141   _T0             BIT 0xb4
0000            142   _INT1           BIT 0xb3
0000            143   _INT0           BIT 0xb2
0000            144   _TXD            BIT 0xb1
0000            145   _RXD            BIT 0xb0
0000            146   _P4_7           BIT 0xc7
0000            147   _P4_6           BIT 0xc6
0000            148   _P4_5           BIT 0xc5
0000            149   _P4_4           BIT 0xc4
0000            150   _P4_3           BIT 0xc3
0000            151   _P4_2           BIT 0xc2
0000            152   _P4_1           BIT 0xc1
0000            153   _P4_0           BIT 0xc0
0000            154   _XTAL2          BIT 0xc1
0000            155   _XTAL1          BIT 0xc0
0000            156   _CY             BIT 0xd7
0000            157   _AC             BIT 0xd6
0000            158   _F0             BIT 0xd5
0000            159   _RS1            BIT 0xd4
0000            160   _RS0            BIT 0xd3
0000            161   _OV             BIT 0xd2
0000            162   _UD             BIT 0xd1
0000            163   _P              BIT 0xd0
0000            164   _ACC_7          BIT 0xe7
0000            165   _ACC_6          BIT 0xe6
0000            166   _ACC_5          BIT 0xe5
0000            167   _ACC_4          BIT 0xe4
0000            168   _ACC_3          BIT 0xe3
0000            169   _ACC_2          BIT 0xe2
0000            170   _ACC_1          BIT 0xe1
0000            171   _ACC_0          BIT 0xe0
0000            172   _B_7            BIT 0xf7
0000            173   _B_6            BIT 0xf6
0000            174   _B_5            BIT 0xf5
0000            175   _B_4            BIT 0xf4
0000            176   _B_3            BIT 0xf3
0000            177   _B_2            BIT 0xf2
0000            178   _B_1            BIT 0xf1
0000            179   _B_0            BIT 0xf0
0000            180   _TF1            BIT 0x8f
0000            181   _TR1            BIT 0x8e
0000            182   _TF0            BIT 0x8d
0000            183   _TR0            BIT 0x8c
0000            184   _IE1            BIT 0x8b
0000            185   _IT1            BIT 0x8a
0000            186   _IE0            BIT 0x89
0000            187   _IT0            BIT 0x88
0000            188   _TF2            BIT 0xcf
0000            189   _EXF2           BIT 0xce
0000            190   _RCLK           BIT 0xcd
0000            191   _TCLK           BIT 0xcc
0000            192   _EXEN2          BIT 0xcb
0000            193   _TR2            BIT 0xca
0000            194   _C_T2           BIT 0xc9
0000            195   _CP_RL2         BIT 0xc8
0000            196   _SM0            BIT 0x9f
0000            197   _FE             BIT 0x9f
0000            198   _SM1            BIT 0x9e
0000            199   _SM2            BIT 0x9d
0000            200   _REN            BIT 0x9c
0000            201   _TB8            BIT 0x9b
0000            202   _RB8            BIT 0x9a
0000            203   _TI             BIT 0x99
0000            204   _RI             BIT 0x98
0000            205   _EA             BIT 0xaf
0000            206   _EC             BIT 0xae
0000            207   _ET2            BIT 0xad
0000            208   _ES             BIT 0xac
0000            209   _ET1            BIT 0xab
0000            210   _EX1            BIT 0xaa
0000            211   _ET0            BIT 0xa9
0000            212   _EX0            BIT 0xa8
0000            213   _PC             BIT 0xbe
0000            214   _PT2            BIT 0xbd
0000            215   _PS             BIT 0xbc
0000            216   _PT1            BIT 0xbb
0000            217   _PX1            BIT 0xba
0000            218   _PT0            BIT 0xb9
0000            219   _PX0            BIT 0xb8
0000            220   _SPIF           BIT 0xef
0000            221   _WCOL           BIT 0xee
0000            222   _MODF           BIT 0xed
0000            223   _TXE            BIT 0xec
0000            224   _SSIG           BIT 0xea
0000            225   _DISSO          BIT 0xe9
0000            226   _ENH            BIT 0xe8
0000            227   ;--------------------------------------------------------
0000            228   ; overlayable register banks
0000            229   ;--------------------------------------------------------
0000            230            rbank0 segment data overlay
0000            231   ;--------------------------------------------------------
0000            232   ; internal ram data
0000            233   ;--------------------------------------------------------
0000            234            rseg R_DSEG
0000            235   ;--------------------------------------------------------
0000            236   ; overlayable items in internal ram 
0000            237   ;--------------------------------------------------------
0000            238            rseg    R_OSEG
0000            239   ;--------------------------------------------------------
0000            240   ; indirectly addressable internal ram data
0000            241   ;--------------------------------------------------------
0000            242            rseg R_ISEG
0000            243   ;--------------------------------------------------------
0000            244   ; absolute internal ram data
0000            245   ;--------------------------------------------------------
0000            246            DSEG
0000            247   ;--------------------------------------------------------
0000            248   ; bit data
0000            249   ;--------------------------------------------------------
0000            250            rseg R_BSEG
0000            251   ;--------------------------------------------------------
0000            252   ; paged external ram data
0000            253   ;--------------------------------------------------------
0000            254            rseg R_XSEG
0000            255   ;--------------------------------------------------------
0000            256   ; external ram data
0000            257   ;--------------------------------------------------------
0000            258            rseg R_XSEG
0000            259   ;--------------------------------------------------------
0000            260   ; absolute external ram data
0000            261   ;--------------------------------------------------------
0000            262            XSEG
0000            263   ;--------------------------------------------------------
0000            264   ; external initialized ram data
0000            265   ;--------------------------------------------------------
0000            266            rseg R_IXSEG
0000            267            rseg R_HOME
0000            268            rseg R_GSINIT
0000            269            rseg R_CSEG
0000            270   ;--------------------------------------------------------
0000            271   ; Reset entry point and interrupt vectors
0000            272   ;--------------------------------------------------------
0000            273            CSEG at 0x0000
0000 020100     274            ljmp    _crt0
0003            275   ;--------------------------------------------------------
0003            276   ; global & static initialisations
0003            277   ;--------------------------------------------------------
0000            278            rseg R_HOME
0000            279            rseg R_GSINIT
0000            280            rseg R_GSINIT
0000            281   ;--------------------------------------------------------
0000            282   ; data variables initialization
0000            283   ;--------------------------------------------------------
0000            284            rseg R_DINIT
0000            285            ; The linker places a 'ret' at the end of segment R_DINIT.
0000            286   ;--------------------------------------------------------
0000            287   ; code
0000            288   ;--------------------------------------------------------
0000            289            rseg R_CSEG
0000            290   ;------------------------------------------------------------
0000            291   ;Allocation info for local variables in function 'delay'
0000            292   ;------------------------------------------------------------
0000            293   ;j                         Allocated to registers r2 r3 
0000            294   ;k                         Allocated to registers r4 r5 
0000            295   ;------------------------------------------------------------
0000            296   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\hello.c:3: void delay(void)
0000            297   ;        -----------------------------------------
0000            298   ;         function delay
0000            299   ;        -----------------------------------------
0000            300   _delay:
0000            301            using   0
0000            302   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\hello.c:8: for(j=0; j<100; ++j)
0000 7A00       303            mov     r2,#0x00
0002 7B00       304            mov     r3,#0x00
0004            305   L002004?:
0004 C3         306            clr     c
0005 EA         307            mov     a,r2
0006 9464       308            subb    a,#0x64
0008 EB         309            mov     a,r3
0009 6480       310            xrl     a,#0x80
000B 9480       311            subb    a,#0x80
000D 5001       312            jnc     L002008?
000F            313   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\hello.c:10: for(k=0; k<1000; ++k);
000F 7CE8       314            mov     r4,#0xE8
0011 7D03       315            mov     r5,#0x03
0013            316   L002003?:
0013 1C         317            dec     r4
0014 BCFFD0     318            cjne    r4,#0xff,L002017?
0017 1D         319            dec     r5
0018            320   L002017?:
0018 EC         321            mov     a,r4
0019 4D         322            orl     a,r5
001A 7001       323            jnz     L002003?
001C            324   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\hello.c:8: for(j=0; j<100; ++j)
001C 0A         325            inc     r2
001D BA0010     326            cjne    r2,#0x00,L002004?
0020 0B         327            inc     r3
0021 8001       328            sjmp    L002004?
0023            329   L002008?:
0023 22         330            ret
0024            331   ;------------------------------------------------------------
0024            332   ;Allocation info for local variables in function 'main'
0024            333   ;------------------------------------------------------------
0024            334   ;------------------------------------------------------------
0024            335   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\hello.c:14: void main(void)
0024            336   ;        -----------------------------------------
0024            337   ;         function main
0024            338   ;        -----------------------------------------
0024            339   _main:
0024            340   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\hello.c:16: while(1)
0024            341   L003002?:
0024            342   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\hello.c:18: P2_1 = 0;
0024 C2A1       343            clr     _P2_1
0026            344   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\hello.c:19: delay();
0026 120100     345            lcall   _delay
0029            346   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\hello.c:20: P2_1 = 1;
0029 D2A1       347            setb    _P2_1
002B            348   ;        C:\Users\Blake\Dropbox\Documents\GitHub\EECE-284\hello.c:21: delay();
002B 120100     349            lcall   _delay
002E 8001       350            sjmp    L003002?
0030            351            rseg R_CSEG
0030            352   
0000            353            rseg R_CONST
0000            354   
0000            355            rseg R_XINIT
0000            356   
0003            357            CSEG
0003            358   
0003            359   end
